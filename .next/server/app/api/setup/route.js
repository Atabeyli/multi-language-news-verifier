(()=>{var e={};e.id=838,e.ids=[838],e.modules={517:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},1017:e=>{"use strict";e.exports=require("path")},5477:e=>{"use strict";e.exports=require("punycode")},2781:e=>{"use strict";e.exports=require("stream")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},5536:()=>{},3862:(e,t,r)=>{"use strict";r.r(t),r.d(t,{headerHooks:()=>g,originalPathname:()=>m,patchFetch:()=>v,requestAsyncStorage:()=>l,routeModule:()=>p,serverHooks:()=>h,staticGenerationAsyncStorage:()=>d,staticGenerationBailout:()=>b});var s={};r.r(s),r.d(s,{GET:()=>c});var o=r(5419),u=r(9108),a=r(9678),i=r(8070),n=r(6400);async function c(e){console.log("Setup route accessed");let t=process.env.TELEGRAM_BOT_TOKEN;if(console.log("Token exists:",!!t),!t)return console.error("TELEGRAM_BOT_TOKEN is not accessible"),i.Z.json({status:"error",message:"TELEGRAM_BOT_TOKEN is not accessible. Please check your environment variables.",debug:{envVars:Object.keys(process.env),nodeEnv:"production"}},{status:500});let r=new n.Bot(t),s=process.env.VERCEL_URL||e.headers.get("host");if(console.log("Vercel URL:",s),!s)return console.error("Unable to determine the server URL"),i.Z.json({status:"error",message:"Unable to determine the server URL",debug:{headers:Object.fromEntries(e.headers.entries())}},{status:500});let o=`https://${s}/api/webhook`;try{return await r.api.setWebhook(o),console.log(`Webhook set to ${o}`),i.Z.json({status:"ok",message:`Webhook successfully set to ${o}`,debug:{botInfo:await r.api.getMe()}})}catch(e){return console.error("Error setting webhook:",e),i.Z.json({status:"error",message:"Failed to set webhook",error:e.message,stack:e.stack},{status:500})}}let p=new o.AppRouteRouteModule({definition:{kind:u.x.APP_ROUTE,page:"/api/setup/route",pathname:"/api/setup",filename:"route",bundlePath:"app/api/setup/route"},resolvedPagePath:"/Users/aynur/Downloads/multi-language-news-verifier/app/api/setup/route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:l,staticGenerationAsyncStorage:d,serverHooks:h,headerHooks:g,staticGenerationBailout:b}=p,m="/api/setup/route";function v(){return(0,a.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:d})}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[638,206,400],()=>r(3862));module.exports=s})();